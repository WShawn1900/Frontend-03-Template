# JS 类型 ｜ String

参考文档：
[编码方式](https://liyucang-git.github.io/2019/06/17/彻底弄懂Unicode编码/)

[Unicode 及编码方式概述](https://developer.ibm.com/zh/articles/unicode-programming-language/#)


## String 的组成

* Character（字符）
单个字符例如：1  A  B ?

* Code Point (码点：一个数字)
将字符转化为数字

* Encoding （编码方式）
规定字符存储几个字节 。

## String 的字符集

* ASCII：键盘字符集
* Unicode：联合编码集(最初两个字节)
* USC：范围：0000 ～ FFFF 
* GB 兼容 ASCII 不兼容 Unicode,
    * GB2312
    * GBK (GB13000)
    * GB18030
* ISO-8859：东欧国家。兼容 ASCII 
* BIG5：台湾省

##Encoding 编码方式

计算机中运行的实际上是一个二进制的字符串，每个二进制都有 0 和 1 两个状态。通过 0 和 1 不同的排列组合来表示世界上所有的东西。

* ASCII 
* UTF-8
* UTF-16


###ASCII
在计算机中最基本的单位是字节`byte`。1个字节等于8个比特位。1个字节可以有 256 个状态。每个状态可以定义一个字符，也就是说 1 个字节可以表示 256 字符。

**ASCII一共定义了128个字符，包括英文字母A~Z,a~z数字0~9和一些标点控制符。128个字符只用了8bit的后7位，最前面统一规定为0。ASCII共消耗一个字节空间**

###UTF-8
>用1~4字节来表示字符，最大的特定是可变长度。实现了从`ASCII`向后兼容的编码。

编码特定：
1. **首字节用来区分采用的编码字节数**：首字节以`0`开头，表示单字节编码。首字节以`110`开头为双字节编码，首字节以`1110`表示以三字节编码，以此类推。

2. 除了首字节码外**用`10`开头的表示多字节编码的后续字节** 图3中`UTF-8` 用1～6个字节的编码方式表示字符集。（实际上1～4个字节就足以基本覆盖大部分Unicode 码点）
3. 对`ASCII`完全兼容
4. **无字节序**，在`UTF-8`编码格式的文本中，如果添加了`BOM`，则标记改文本由`UTF-8`进行编码，而不用说明字节序。

UTF-8 结构：
控制位 + 实际字符位
* 控制位：1、表示字符所占字节数。2、表示后续字节
* 实际字符位：表示实际的字符。


####图3：UTF-8编码方式

![UTF-8编码方式](media/image003.jpg)


####实际的解码过程中

* 情况一：读取到一个字节第一位如果是`0`，表示这是一个单字节编码`ASCII`。
* 情况二：读取到一个字节第一位如果是`1`，一共有几个`1`，表示字符一共占据几个字节。
* 情况三：读取到一个节第一位是`1`后一位紧接是`0`，说明这是一个多字节编码的后续字节。


###UTF-16
>用两个字节，也就是 16 个 bit。进行编码。






